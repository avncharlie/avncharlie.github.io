"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}var _Group=function(){this._tweens={},this._tweensAddedDuringUpdate={}};_Group.prototype={getAll:function a(){return Object.keys(this._tweens).map(function(a){return this._tweens[a]}.bind(this))},removeAll:function a(){this._tweens={}},add:function b(a){this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a},remove:function b(a){delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]},update:function f(a,b){var c=Object.keys(this._tweens);if(0===c.length)return!1;for(a=void 0===a?TWEEN.now():a;0<c.length;){this._tweensAddedDuringUpdate={};for(var d,e=0;e<c.length;e++)d=this._tweens[c[e]],d&&!1===d.update(a)&&(d._isPlaying=!1,!b&&delete this._tweens[c[e]]);c=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var TWEEN=new _Group;TWEEN.Group=_Group,TWEEN._nextId=0,TWEEN.nextId=function(){return TWEEN._nextId++},TWEEN.now="undefined"==typeof window&&"undefined"!=typeof process?function(){var a=process.hrtime();return 1e3*a[0]+a[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now.bind(window.performance):void 0===Date.now?function(){return new Date().getTime()}:Date.now,TWEEN.Tween=function(a,b){this._object=a,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=TWEEN.Easing.Linear.None,this._interpolationFunction=TWEEN.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=b||TWEEN,this._id=TWEEN.nextId()},TWEEN.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(a,b){return this._valuesEnd=a,void 0!==b&&(this._duration=b),this},start:function(a){for(var b in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0===a?TWEEN.now():"string"==typeof a?TWEEN.now()+parseFloat(a):a,this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[b]instanceof Array){if(0===this._valuesEnd[b].length)continue;this._valuesEnd[b]=[this._object[b]].concat(this._valuesEnd[b])}void 0!==this._object[b]&&(this._valuesStart[b]=this._object[b],!1==this._valuesStart[b]instanceof Array&&(this._valuesStart[b]*=1),this._valuesStartRepeat[b]=this._valuesStart[b]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var a=0,b=this._chainedTweens.length;a<b;a++)this._chainedTweens[a].stop()},group:function a(a){return this._group=a,this},delay:function(a){return this._delayTime=a,this},repeat:function(a){return this._repeat=a,this},repeatDelay:function(a){return this._repeatDelayTime=a,this},yoyo:function(a){return this._yoyo=a,this},easing:function(a){return this._easingFunction=a,this},interpolation:function(a){return this._interpolationFunction=a,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(a){return this._onStartCallback=a,this},onUpdate:function(a){return this._onUpdateCallback=a,this},onComplete:function(a){return this._onCompleteCallback=a,this},onStop:function(a){return this._onStopCallback=a,this},update:function(a){var b,c,d;if(a<this._startTime)return!0;for(b in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),c=(a-this._startTime)/this._duration,c=0===this._duration||1<c?1:c,d=this._easingFunction(c),this._valuesEnd)if(void 0!==this._valuesStart[b]){var e=this._valuesStart[b]||0,f=this._valuesEnd[b];f instanceof Array?this._object[b]=this._interpolationFunction(f,d):("string"==typeof f&&("+"===f.charAt(0)||"-"===f.charAt(0)?f=e+parseFloat(f):f=parseFloat(f)),"number"==typeof f&&(this._object[b]=e+(f-e)*d))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===c){if(0<this._repeat){for(b in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[b]&&(this._valuesStartRepeat[b]+=parseFloat(this._valuesEnd[b])),this._yoyo){var g=this._valuesStartRepeat[b];this._valuesStartRepeat[b]=this._valuesEnd[b],this._valuesEnd[b]=g}this._valuesStart[b]=this._valuesStartRepeat[b]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0===this._repeatDelayTime?a+this._delayTime:a+this._repeatDelayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var h=0,j=this._chainedTweens.length;h<j;h++)this._chainedTweens[h].start(this._startTime+this._duration);return!1}return!0}},TWEEN.Easing={Linear:{None:function b(a){return a}},Quadratic:{In:function b(a){return a*a},Out:function b(a){return a*(2-a)},InOut:function b(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)}},Cubic:{In:function b(a){return a*a*a},Out:function b(a){return--a*a*a+1},InOut:function b(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)}},Quartic:{In:function b(a){return a*a*a*a},Out:function b(a){return 1- --a*a*a*a},InOut:function b(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},Quintic:{In:function b(a){return a*a*a*a*a},Out:function b(a){return--a*a*a*a*a+1},InOut:function b(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function b(a){return 1-Math.cos(a*Math.PI/2)},Out:function b(a){return Math.sin(a*Math.PI/2)},InOut:function b(a){return .5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function b(a){return 0===a?0:Math.pow(1024,a-1)},Out:function b(a){return 1===a?1:1-Math.pow(2,-10*a)},InOut:function b(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function b(a){return 1-Math.sqrt(1-a*a)},Out:function b(a){return Math.sqrt(1- --a*a)},InOut:function b(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function b(a){return 0===a?0:1===a?1:-Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*Math.PI)},Out:function b(a){return 0===a?0:1===a?1:Math.pow(2,-10*a)*Math.sin(5*(a-.1)*Math.PI)+1},InOut:function b(a){return 0===a?0:1===a?1:(a*=2,1>a?-.5*Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*Math.PI):.5*Math.pow(2,-10*(a-1))*Math.sin(5*(a-1.1)*Math.PI)+1)}},Back:{In:function c(a){var b=1.70158;return a*a*((b+1)*a-b)},Out:function c(a){var b=1.70158;return--a*a*((b+1)*a+b)+1},InOut:function c(a){var b=1.525*1.70158;return 1>(a*=2)?.5*(a*a*((b+1)*a-b)):.5*((a-=2)*a*((b+1)*a+b)+2)}},Bounce:{In:function b(a){return 1-TWEEN.Easing.Bounce.Out(1-a)},Out:function b(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},InOut:function b(a){return .5>a?.5*TWEEN.Easing.Bounce.In(2*a):.5*TWEEN.Easing.Bounce.Out(2*a-1)+.5}}},TWEEN.Interpolation={Linear:function g(a,b){var c=a.length-1,d=c*b,e=Math.floor(d),f=TWEEN.Interpolation.Utils.Linear;return 0>b?f(a[0],a[1],d):1<b?f(a[c],a[c-1],c-d):f(a[e],a[e+1>c?c:e+1],d-e)},Bezier:function j(a,c){for(var d=0,e=a.length-1,f=Math.pow,g=TWEEN.Interpolation.Utils.Bernstein,h=0;h<=e;h++)d+=f(1-c,e-h)*f(c,h)*a[h]*g(e,h);return d},CatmullRom:function h(a,b){var c=a.length-1,d=c*b,e=Math.floor(d),g=TWEEN.Interpolation.Utils.CatmullRom;return a[0]===a[c]?(0>b&&(e=Math.floor(d=c*(1+b))),g(a[(e-1+c)%c],a[e],a[(e+1)%c],a[(e+2)%c],d-e)):0>b?a[0]-(g(a[0],a[0],a[1],a[1],-d)-a[0]):1<b?a[c]-(g(a[c],a[c],a[c-1],a[c-1],d-c)-a[c]):g(a[e?e-1:0],a[e],a[c<e+1?c:e+1],a[c<e+2?c:e+2],d-e)},Utils:{Linear:function d(a,b,c){return(b-a)*c+a},Bernstein:function d(a,b){var c=TWEEN.Interpolation.Utils.Factorial;return c(a)/c(b)/c(a-b)},Factorial:function(){var b=[1];return function(a){var c=1;if(b[a])return b[a];for(var d=a;1<d;d--)c*=d;return b[a]=c,c}}(),CatmullRom:function i(a,b,c,d,e){var f=.5*(c-a),g=.5*(d-b),h=e*e;return(2*b-2*c+f+g)*(e*h)+(-3*b+3*c-2*f-g)*h+f*e+b}}},function(a){"function"==typeof define&&define.amd?define([],function(){return TWEEN}):"undefined"!=typeof module&&"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=TWEEN:a!==void 0&&(a.TWEEN=TWEEN)}(void 0);
